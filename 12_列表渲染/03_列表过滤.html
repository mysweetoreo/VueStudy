<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>列表过滤</title>
    <script src="../js/vue.js"></script>
    
</head>
<body>
    <div id="root">
        <input type="text" placeholder="请输入名字" v-model="keyWorld">
        <ul>
            <li v-for="(p,index) of filterPersons" ::key="p.id">
                {{p.id}}---{{p.name}}---{{p.age}}---{{p.sex}}
            </li>
        </ul>
    </div>
    <script type="text/javascript">
        Vue.config.productionTip = false;
        /* 监听属性 */
        /* const x = new Vue({
           el:"#root",
           data:{
            keyWorld:"",
            persons:[
                {id:"001",name:"马冬梅",age:30,sex:'女'},
                {id:"002",name:"周冬雨",age:25,sex:'女'},
                {id:"003",name:"周杰伦",age:35,sex:'男'},
                {id:"004",name:"温兆伦",age:55,sex:'男'}
            ],
            filterPersons:[]
           },
           watch:{
            keyWorld:{
                immediate:true,
                handler(val){
                    this.filterPersons = this.persons.filter((p)=>{
                        return p.name.indexOf(val) !== -1
                    })
                }
            }
           }
        })
 */
        
        /* 计算属性 */
        const y = new Vue({
           el:"#root",
           data:{
            keyWorld:"",
            persons:[
                {id:"001",name:"马冬梅",age:30,sex:'女'},
                {id:"002",name:"周冬雨",age:25,sex:'女'},
                {id:"003",name:"周杰伦",age:35,sex:'男'},
                {id:"004",name:"温兆伦",age:55,sex:'男'}
            ]
           },
           computed:{
             filterPersons(){
                return this.persons.filter((p)=>{
                    return p.name.indexOf(this.keyWorld) !== -1
                })
             }
           }
        })
    
    </script>
</body>
</html>